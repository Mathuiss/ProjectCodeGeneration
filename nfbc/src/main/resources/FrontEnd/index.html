<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="keywords" content="banking app, nfbc, notfoundbankingcoorparation, not found banking corparation" />
    <title>NFBC</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
<header>
    <h1>NFBC</h1>
</header>

<div class="signin">
    <form id="addPost">

        <h2>log in</h2>

        <input id="username" type="text" name="username" placeholder="Username">
        <input id="password" type="password" name="password" placeholder="Password">

        <!--<button id="getPost">klikme</button>-->
        <input type="submit" value="submit">


        <a href="homeScreen.html"><input type="button" value="Log In"></a><br><br>
        <div id="foutmelding">
            <a href="#"
               style="margin-right: 0px; font-size: 13px; font-family: Verdana, Geneva, Tahoma, sans-serif">
                loginnaam of wachtwoord is fout</a>
        </div>
    </form>
</div>

<script>

        document.getElementById('getPost').addEventListener('click', getPost);
        document.getElementById('addPost').addEventListener('submit', addPost)

        function getPost() {
            fetch('http://localhost:8080/login')
                .then((res) => res.json())
                .then((data) => {
                    let output = '<h2>Posts</h2>';
                    data.forEach(function (post) {
                        output += `
                        <div>
                            <h3>${post.username}</h3>
                            <p>${post.pass}</p>
                        </div>
                    `;
                    });
                    document.getElementById('output').innerHTML = output;
                });
        }

        function addPost(e) {
            e.preventDefault();

            alert('present');

            let username = document.getElementById('username').value;
            let password = document.getElementById('password').value;

            fetch('http://localhost:8080/login', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json, text/plain, */*',
                    'Content-type': 'aplication/json'
                },
                body: JSON.stringify({ username: username, password: password })
            })
                .then((res) => res.json())
                .then((data) => console.log(data))
            alert(data);
        }


    </script>





</body>

</html>